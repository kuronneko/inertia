import{D as _e,d as b,E as xe,l as P,s as B,G,I as be,j as p,J as Re,K as we,h as g,M as H,N as K,C as Q,L as Ee,y as X,O as V,o as j,c as ke,w as C,a as x,b as w,g as T,e as I,f as Y,m as Ce,n as Le,i as Oe,F as Ve,t as je}from"./app.50ed3763.js";import{_ as Pe}from"./AppLayout.1183422e.js";import{_ as Te}from"./PrimaryButton.f0e0533b.js";import{P as Ie}from"./Paginator.aac9244e.js";import{a as Se,_ as ze}from"./TextInput.b47dfcab.js";import{_ as Ae}from"./InputLabel.1e88a118.js";import{_ as Fe}from"./FormSection.558ad9f3.js";import{_ as Ne}from"./_plugin-vue_export-helper.cdc0426e.js";import"./TermsOfService.3b25b8a0.js";import"./AuthenticationCardLogo.1fb5216d.js";import"./SectionTitle.80cf14bc.js";function ee(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((t,r)=>(n.includes(r)||(t[r]=g(e[r])),t),{})}function z(e){return typeof e=="function"}function Ue(e){return Re(e)||we(e)}function oe(e,n,t){let r=e;const s=n.split(".");for(let o=0;o<s.length;o++){if(!r[s[o]])return t;r=r[s[o]]}return r}function D(e,n,t){return p(()=>e.some(r=>oe(n,r,{[t]:!1})[t]))}function te(e,n,t){return p(()=>e.reduce((r,s)=>{const o=oe(n,s,{[t]:!1})[t]||[];return r.concat(o)},[]))}function ie(e,n,t,r){return e.call(r,g(n),g(t),r)}function le(e){return e.$valid!==void 0?!e.$valid:!e}function De(e,n,t,r,s,o,$){let{$lazy:l,$rewardEarly:m}=s,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],d=arguments.length>8?arguments[8]:void 0,i=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0;const v=b(!!r.value),a=b(0);t.value=!1;const f=P([n,r].concat(c,h),()=>{if(l&&!r.value||m&&!i.value&&!t.value)return;let u;try{u=ie(e,n,d,$)}catch(_){u=Promise.reject(_)}a.value++,t.value=!!a.value,v.value=!1,Promise.resolve(u).then(_=>{a.value--,t.value=!!a.value,o.value=_,v.value=le(_)}).catch(_=>{a.value--,t.value=!!a.value,o.value=_,v.value=!0})},{immediate:!0,deep:typeof n=="object"});return{$invalid:v,$unwatch:f}}function Be(e,n,t,r,s,o,$,l){let{$lazy:m,$rewardEarly:c}=r;const d=()=>({}),i=p(()=>{if(m&&!t.value||c&&!l.value)return!1;let h=!0;try{const v=ie(e,n,$,o);s.value=v,h=le(v)}catch(v){s.value=v}return h});return{$unwatch:d,$invalid:i}}function Me(e,n,t,r,s,o,$,l,m,c,d){const i=b(!1),h=e.$params||{},v=b(null);let a,f;e.$async?{$invalid:a,$unwatch:f}=De(e.$validator,n,i,t,r,v,s,e.$watchTargets,m,c,d):{$invalid:a,$unwatch:f}=Be(e.$validator,n,t,r,v,s,m,c);const u=e.$message;return{$message:z(u)?p(()=>u(ee({$pending:i,$invalid:a,$params:ee(h),$model:n,$response:v,$validator:o,$propertyPath:l,$property:$}))):u||"",$params:h,$pending:i,$invalid:a,$response:v,$unwatch:f}}function Ge(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=g(e),t=Object.keys(n),r={},s={},o={};let $=null;return t.forEach(l=>{const m=n[l];switch(!0){case z(m.$validator):r[l]=m;break;case z(m):r[l]={$validator:m};break;case l==="$validationGroups":$=m;break;case l.startsWith("$"):o[l]=m;break;default:s[l]=m}}),{rules:r,nestedValidators:s,config:o,validationGroups:$}}function qe(){}const Je="__root";function ue(e,n,t){if(t)return n?n(e()):e();try{var r=Promise.resolve(e());return n?r.then(n):r}catch(s){return Promise.reject(s)}}function We(e,n){return ue(e,qe,n)}function Ze(e,n){var t=e();return t&&t.then?t.then(n):n(t)}function He(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];try{return Promise.resolve(e.apply(this,n))}catch(r){return Promise.reject(r)}}}function Ke(e,n,t,r,s,o,$,l,m){const c=Object.keys(e),d=r.get(s,e),i=b(!1),h=b(!1),v=b(0);if(d){if(!d.$partial)return d;d.$unwatch(),i.value=d.$dirty.value}const a={$dirty:i,$path:s,$touch:()=>{i.value||(i.value=!0)},$reset:()=>{i.value&&(i.value=!1)},$commit:()=>{}};return c.length?(c.forEach(f=>{a[f]=Me(e[f],n,a.$dirty,o,$,f,t,s,m,h,v)}),a.$externalResults=p(()=>l.value?[].concat(l.value).map((f,u)=>({$propertyPath:s,$property:t,$validator:"$externalResults",$uid:`${s}-externalResult-${u}`,$message:f,$params:{},$response:null,$pending:!1})):[]),a.$invalid=p(()=>{const f=c.some(u=>g(a[u].$invalid));return h.value=f,!!a.$externalResults.value.length||f}),a.$pending=p(()=>c.some(f=>g(a[f].$pending))),a.$error=p(()=>a.$dirty.value?a.$pending.value||a.$invalid.value:!1),a.$silentErrors=p(()=>c.filter(f=>g(a[f].$invalid)).map(f=>{const u=a[f];return G({$propertyPath:s,$property:t,$validator:f,$uid:`${s}-${f}`,$message:u.$message,$params:u.$params,$response:u.$response,$pending:u.$pending})}).concat(a.$externalResults.value)),a.$errors=p(()=>a.$dirty.value?a.$silentErrors.value:[]),a.$unwatch=()=>c.forEach(f=>{a[f].$unwatch()}),a.$commit=()=>{h.value=!0,v.value=Date.now()},r.set(s,e,a),a):(d&&r.set(s,e,a),a)}function Qe(e,n,t,r,s,o,$){const l=Object.keys(e);return l.length?l.reduce((m,c)=>(m[c]=M({validations:e[c],state:n,key:c,parentKey:t,resultsCache:r,globalConfig:s,instance:o,externalResults:$}),m),{}):{}}function Xe(e,n,t){const r=p(()=>[n,t].filter(a=>a).reduce((a,f)=>a.concat(Object.values(g(f))),[])),s=p({get(){return e.$dirty.value||(r.value.length?r.value.every(a=>a.$dirty):!1)},set(a){e.$dirty.value=a}}),o=p(()=>{const a=g(e.$silentErrors)||[],f=r.value.filter(u=>(g(u).$silentErrors||[]).length).reduce((u,_)=>u.concat(..._.$silentErrors),[]);return a.concat(f)}),$=p(()=>{const a=g(e.$errors)||[],f=r.value.filter(u=>(g(u).$errors||[]).length).reduce((u,_)=>u.concat(..._.$errors),[]);return a.concat(f)}),l=p(()=>r.value.some(a=>a.$invalid)||g(e.$invalid)||!1),m=p(()=>r.value.some(a=>g(a.$pending))||g(e.$pending)||!1),c=p(()=>r.value.some(a=>a.$dirty)||r.value.some(a=>a.$anyDirty)||s.value),d=p(()=>s.value?m.value||l.value:!1),i=()=>{e.$touch(),r.value.forEach(a=>{a.$touch()})},h=()=>{e.$commit(),r.value.forEach(a=>{a.$commit()})},v=()=>{e.$reset(),r.value.forEach(a=>{a.$reset()})};return r.value.length&&r.value.every(a=>a.$dirty)&&i(),{$dirty:s,$errors:$,$invalid:l,$anyDirty:c,$error:d,$pending:m,$touch:i,$reset:v,$silentErrors:o,$commit:h}}function M(e){const n=He(function(){return U(),Ze(function(){if(u.$rewardEarly)return Z(),We(Q)},function(){return ue(Q,function(){return new Promise(y=>{if(!N.value)return y(!F.value);const k=P(N,()=>{y(!F.value),k()})})})})});let{validations:t,state:r,key:s,parentKey:o,childResults:$,resultsCache:l,globalConfig:m={},instance:c,externalResults:d}=e;const i=o?`${o}.${s}`:s,{rules:h,nestedValidators:v,config:a,validationGroups:f}=Ge(t),u=Object.assign({},m,a),_=s?p(()=>{const y=g(r);return y?g(y[s]):void 0}):r,O=Object.assign({},g(d)||{}),q=p(()=>{const y=g(d);return s?y?g(y[s]):void 0:y}),J=Ke(h,_,s,l,i,u,c,q,r),E=Qe(v,_,i,l,u,c,q),W={};f&&Object.entries(f).forEach(y=>{let[k,R]=y;W[k]={$invalid:D(R,E,"$invalid"),$error:D(R,E,"$error"),$pending:D(R,E,"$pending"),$errors:te(R,E,"$errors"),$silentErrors:te(R,E,"$silentErrors")}});const{$dirty:A,$errors:fe,$invalid:F,$anyDirty:me,$error:ge,$pending:N,$touch:U,$reset:$e,$silentErrors:ve,$commit:Z}=Xe(J,E,$),pe=s?p({get:()=>g(_),set:y=>{A.value=!0;const k=g(r),R=g(d);R&&(R[s]=O[s]),B(k[s])?k[s].value=y:k[s]=y}}):null;s&&u.$autoDirty&&P(_,()=>{A.value||U();const y=g(d);y&&(y[s]=O[s])},{flush:"sync"});function he(y){return($.value||{})[y]}function ye(){B(d)?d.value=O:Object.keys(O).length===0?Object.keys(d).forEach(y=>{delete d[y]}):Object.assign(d,O)}return G(Object.assign({},J,{$model:pe,$dirty:A,$error:ge,$errors:fe,$invalid:F,$anyDirty:me,$pending:N,$touch:U,$reset:$e,$path:i||Je,$silentErrors:ve,$validate:n,$commit:Z},$&&{$getResultsForChild:he,$clearExternalResults:ye,$validationGroups:W},E))}class Ye{constructor(){this.storage=new Map}set(n,t,r){this.storage.set(n,{rules:t,result:r})}checkRulesValidity(n,t,r){const s=Object.keys(r),o=Object.keys(t);return o.length!==s.length||!o.every(l=>s.includes(l))?!1:o.every(l=>t[l].$params?Object.keys(t[l].$params).every(m=>g(r[l].$params[m])===g(t[l].$params[m])):!0)}get(n,t){const r=this.storage.get(n);if(!r)return;const{rules:s,result:o}=r,$=this.checkRulesValidity(n,t,s),l=o.$unwatch?o.$unwatch:()=>({});return $?o:{$dirty:o.$dirty,$partial:!0,$unwatch:l}}}const S={COLLECT_ALL:!0,COLLECT_NONE:!1},re=Symbol("vuelidate#injectChildResults"),ne=Symbol("vuelidate#removeChildResults");function et(e){let{$scope:n,instance:t}=e;const r={},s=b([]),o=p(()=>s.value.reduce((d,i)=>(d[i]=g(r[i]),d),{}));function $(d,i){let{$registerAs:h,$scope:v,$stopPropagation:a}=i;a||n===S.COLLECT_NONE||v===S.COLLECT_NONE||n!==S.COLLECT_ALL&&n!==v||(r[h]=d,s.value.push(h))}t.__vuelidateInjectInstances=[].concat(t.__vuelidateInjectInstances||[],$);function l(d){s.value=s.value.filter(i=>i!==d),delete r[d]}t.__vuelidateRemoveInstances=[].concat(t.__vuelidateRemoveInstances||[],l);const m=H(re,[]);K(re,t.__vuelidateInjectInstances);const c=H(ne,[]);return K(ne,t.__vuelidateRemoveInstances),{childResults:o,sendValidationResultsToParent:m,removeValidationResultsFromParent:c}}function ce(e){return new Proxy(e,{get(n,t){return typeof n[t]=="object"?ce(n[t]):p(()=>n[t])}})}let se=0;function ae(e,n){var t;let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(r=e,e=void 0,n=void 0);let{$registerAs:s,$scope:o=S.COLLECT_ALL,$stopPropagation:$,$externalResults:l,currentVueInstance:m}=r;const c=m||((t=_e())===null||t===void 0?void 0:t.proxy),d=c?c.$options:{};s||(se+=1,s=`_vuelidate_${se}`);const i=b({}),h=new Ye,{childResults:v,sendValidationResultsToParent:a,removeValidationResultsFromParent:f}=c?et({$scope:o,instance:c}):{childResults:b({})};if(!e&&d.validations){const u=d.validations;n=b({}),xe(()=>{n.value=c,P(()=>z(u)?u.call(n.value,new ce(n.value)):u,_=>{i.value=M({validations:_,state:n,childResults:v,resultsCache:h,globalConfig:r,instance:c,externalResults:l||c.vuelidateExternalResults})},{immediate:!0})}),r=d.validationsConfig||r}else{const u=B(e)||Ue(e)?e:G(e||{});P(u,_=>{i.value=M({validations:_,state:n,childResults:v,resultsCache:h,globalConfig:r,instance:c!=null?c:{},externalResults:l})},{immediate:!0})}return c&&(a.forEach(u=>u(i,{$registerAs:s,$scope:o,$stopPropagation:$})),be(()=>f.forEach(u=>u(s)))),p(()=>Object.assign({},g(i.value),v.value))}const de=e=>{if(e=g(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let n in e)return!0;return!1}return!!String(e).length};function L(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return r=>(r=g(r),!de(r)||n.every(s=>s.test(r)))}L(/^[a-zA-Z]*$/);L(/^[a-zA-Z0-9]*$/);L(/^\d*(\.\d+)?$/);const tt=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;L(tt);function rt(e){return typeof e=="string"&&(e=e.trim()),de(e)}var nt={$validator:rt,$message:"Value is required",$params:{type:"required"}};const st=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;var at=L(st),ot={$validator:at,$message:"The value is not a valid URL address",$params:{type:"url"}};L(/(^[0-9]*$)|(^-[0-9]+$)/);L(/^[-]?\d*(\.\d+)?$/);const it={setup(){return{v$:ae()}},props:{user:Object},data(){return{url:this.setUrl(),redirect:this.user.setting.redirect,isLoading:null}},validations(){return{redirect:{required:nt,url:ot,$autoDirty:!0}}},components:{useVuelidate:ae,FormSection:Fe,InputError:Se,InputLabel:Ae,TextInput:ze,AppLayout:Pe,JetPrimaryButton:Te,Paginator:Ie,Link:Ee},methods:{Toast(){return this.$swal.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:1700,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",this.$swal.stopTimer),e.addEventListener("mouseleave",this.$swal.resumeTimer)}})},setUrl(){let e=this.user.setting.uuid,n=location.hostname;return"https"+"://"+n+"/api/network/get/"+e},copyUrl(){navigator.clipboard&&(navigator.clipboard.writeText(this.url),console.log(this.url),this.Toast().fire({icon:"success",title:"URL Copied to your clipboard"}))},toggleSilenceMode:function(e){setTimeout(()=>{X.Inertia.post(route("silence_mode",{user:e.id}),{_method:"put"}),e.setting.redirect===null&&(this.redirect="https://www.google.com"),this.user.setting.silence_mode==0?this.Toast().fire({icon:"success",title:"Silent mode ON"}):this.Toast().fire({icon:"success",title:"Silent mode OFF"})},500)},saveRedirect:function(e){this.v$.$touch(),!this.v$.$error&&e.setting.silence_mode==0&&(this.isLoading=!0,X.Inertia.post(route("save_redirect",{user:e.id,redirect:this.redirect}),{_method:"put"}),setTimeout(()=>{this.Toast().fire({icon:"success",title:"Redirect URL saved"}),this.isLoading=null},1e3))}}},lt=x("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Dashboard ",-1),ut={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},ct={class:"col-span-6 sm:col-span-12"},dt={class:"flex"},ft={class:"col-span-6 sm:col-span-12"},mt=x("input",{type:"checkbox",value:"",id:"default-toggle",class:"sr-only peer"},null,-1),gt=x("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-gray-300 dark:peer-focus:ring-gray-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-gray-600"},null,-1),$t=x("span",{class:"ml-3 text-xs font-medium text-gray-900 dark:text-gray-300"},"Silent mode does not redirect when link is clicked",-1),vt=[mt,gt,$t],pt=x("input",{type:"checkbox",value:"",id:"checked-toggle",class:"sr-only peer",checked:""},null,-1),ht=x("div",{class:"w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-gray-300 dark:peer-focus:ring-gray-800 dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-gray-600"},null,-1),yt=x("span",{class:"ml-3 text-xs font-medium text-gray-900 dark:text-gray-300"},"Silent mode does not redirect when link is clicked",-1),_t=[pt,ht,yt],xt={class:"col-span-6 sm:col-span-12"};function bt(e,n,t,r,s,o){const $=V("InputLabel"),l=V("TextInput"),m=V("jet-primary-button"),c=V("FormSection"),d=V("AppLayout");return j(),ke(d,{title:"Dashboard"},{header:C(()=>[lt]),default:C(()=>[x("div",ut,[w(c,null,{title:C(()=>[T(" IP Logger Settings ")]),description:C(()=>[T(" Update your account's information, and use the URL link to capture IPs. ")]),form:C(()=>[x("div",ct,[w($,{for:"url",value:"URL"}),x("div",dt,[w(l,{readonly:"",modelValue:s.url,"onUpdate:modelValue":n[0]||(n[0]=i=>s.url=i),type:"text",class:"mt-1 block w-full",autocomplete:"url"},null,8,["modelValue"]),w(m,{onClick:n[1]||(n[1]=i=>o.copyUrl()),class:"ml-1"},{default:C(()=>[T("Copy ")]),_:1})])]),x("div",ft,[w($,{for:"silence_mode",value:"Silent Mode",class:"mb-2"}),x("div",null,[t.user.setting.silence_mode==0?(j(),I("label",{key:0,"preserve-scroll":"",onClickOnce:n[2]||(n[2]=i=>o.toggleSilenceMode(t.user)),for:"default-toggle",class:"inline-flex relative items-center cursor-pointer"},vt,32)):Y("",!0),t.user.setting.silence_mode==1?(j(),I("label",{key:1,"preserve-scroll":"",onClickOnce:n[3]||(n[3]=i=>o.toggleSilenceMode(t.user)),for:"checked-toggle",class:"inline-flex relative items-center cursor-pointer"},_t,32)):Y("",!0)])]),x("div",xt,[w($,{for:"redirect",value:"Redirecto to"}),x("form",{onSubmit:n[5]||(n[5]=Ce(i=>o.saveRedirect(t.user),["prevent"])),class:"flex"},[w(l,{modelValue:s.redirect,"onUpdate:modelValue":n[4]||(n[4]=i=>s.redirect=i),disabled:t.user.setting.silence_mode==1,id:"redirect",type:"text",class:Le(["mt-1 block w-full",r.v$.redirect.$error===!0?"border-gray-300 focus:border-red-300 focus:ring focus:ring-red-200 focus:ring-opacity-50 rounded-md shadow-sm":""])},null,8,["modelValue","disabled","class"]),w(m,{disabled:t.user.setting.silence_mode==1||this.isLoading===!0,class:"ml-1"},{default:C(()=>[T("Save ")]),_:1},8,["disabled"])],32),(j(!0),I(Ve,null,Oe(r.v$.redirect.$errors,i=>(j(),I("span",{class:"text-danger small",key:i.$uid},je(i.$message),1))),128))])]),_:1})])]),_:1})}const It=Ne(it,[["render",bt]]);export{It as default};
